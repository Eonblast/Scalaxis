ERLC = @ERLC@
ERL = @ERL@
DIALYZER = @ERLANG_ROOT_DIR@/bin/dialyzer
SVN = svn
CD = cd
MAKE = make
TOUCH = touch

.SUFFIXES: .erl .beam

ERLC_FLAGS = 
#+'{parse_transform, smart_exceptions}'

YAWS_PATH= /usr/local/lib/yaws

SOURCES = $(wildcard *.erl)
BEAMS = $(SOURCES:.erl=.beam)

APP_NAME = chordsharp

VSN = $Id$
QUIET=@

all: compile-beam

compile-beam: $(BEAMS)

clean:
	-rm -f $(BEAMS)

.erl.beam: 
	$(QUIET)echo "compiling ..." $<
	$(QUIET)$(ERLC) -I$(YAWS_PATH)/include -pa $(YAWS_PATH) -o ../../bin/transstore -W $(ERLC_FLAGS) $< && $(TOUCH) $@
