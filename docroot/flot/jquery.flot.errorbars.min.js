(function(a){var i={series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}};function f(n,j,k,m){if(!j.points.errorbars){return}var l=[{x:true,number:true,required:true},{y:true,number:true,required:true}];var o=j.points.errorbars;if(o=="x"||o=="xy"){if(j.points.xerr.asymmetric){l.push({x:true,number:true,required:true});l.push({x:true,number:true,required:true})}else{l.push({x:true,number:true,required:true})}}if(o=="y"||o=="xy"){if(j.points.yerr.asymmetric){l.push({y:true,number:true,required:true});l.push({y:true,number:true,required:true})}else{l.push({y:true,number:true,required:true})}}m.format=l}function h(n,o){var u=n.datapoints.points;var q=null,k=null,l=null,t=null;var j=n.points.xerr,s=n.points.yerr;var r=n.points.errorbars;if(r=="x"||r=="xy"){if(j.asymmetric){q=u[o+2];k=u[o+3];if(r=="xy"){if(s.asymmetric){l=u[o+4];t=u[o+5]}else{l=u[o+4]}}}else{q=u[o+2];if(r=="xy"){if(s.asymmetric){l=u[o+3];t=u[o+4]}else{l=u[o+3]}}}}else{if(r=="y"){if(s.asymmetric){l=u[o+2];t=u[o+3]}else{l=u[o+2]}}}if(k==null){k=q}if(t==null){t=l}var m=[q,k,l,t];if(!j.show){m[0]=null;m[1]=null}if(!s.show){m[2]=null;m[3]=null}return m}function d(B,A,u){var E=u.datapoints.points,z=u.datapoints.pointsize,t=[u.xaxis,u.yaxis],k=u.points.radius,m=[u.points.xerr,u.points.yerr];var F=false;if(t[0].p2c(t[0].max)<t[0].p2c(t[0].min)){F=true;var J=m[0].lowerCap;m[0].lowerCap=m[0].upperCap;m[0].upperCap=J}var C=false;if(t[1].p2c(t[1].min)<t[1].p2c(t[1].max)){C=true;var J=m[1].lowerCap;m[1].lowerCap=m[1].upperCap;m[1].upperCap=J}for(var G=0;G<u.datapoints.points.length;G+=z){var D=h(u,G);for(var I=0;I<m.length;I++){var n=[t[I].min,t[I].max];if(D[I*m.length]){var q=E[G],o=E[G+1];var H=[q,o][I]+D[I*m.length+1],L=[q,o][I]-D[I*m.length];if(m[I].err=="x"){if(o>t[1].max||o<t[1].min||H<t[0].min||L>t[0].max){continue}}if(m[I].err=="y"){if(q>t[0].max||q<t[0].min||H<t[1].min||L>t[1].max){continue}}var K=true,j=true;if(H>n[1]){K=false;H=n[1]}if(L<n[0]){j=false;L=n[0]}if((m[I].err=="x"&&F)||(m[I].err=="y"&&C)){var J=L;L=H;H=J;J=j;j=K;K=J;J=n[0];n[0]=n[1];n[1]=J}q=t[0].p2c(q),o=t[1].p2c(o),H=t[I].p2c(H);L=t[I].p2c(L);n[0]=t[I].p2c(n[0]);n[1]=t[I].p2c(n[1]);var l=m[I].lineWidth?m[I].lineWidth:u.points.lineWidth,v=u.points.shadowSize!=null?u.points.shadowSize:u.shadowSize;if(l>0&&v>0){var r=v/2;A.lineWidth=r;A.strokeStyle="rgba(0,0,0,0.1)";b(A,m[I],q,o,H,L,K,j,k,r+r/2,n);A.strokeStyle="rgba(0,0,0,0.2)";b(A,m[I],q,o,H,L,K,j,k,r/2,n)}A.strokeStyle=m[I].color?m[I].color:u.color;A.lineWidth=l;b(A,m[I],q,o,H,L,K,j,k,0,n)}}}}function b(u,l,s,r,t,n,q,j,o,m,k){r+=m;t+=m;n+=m;if(l.err=="x"){if(t>s+o){c(u,[[t,r],[Math.max(s+o,k[0]),r]])}else{q=false}if(n<s-o){c(u,[[Math.min(s-o,k[1]),r],[n,r]])}else{j=false}}else{if(t<r-o){c(u,[[s,t],[s,Math.min(r-o,k[0])]])}else{q=false}if(n>r+o){c(u,[[s,Math.max(r+o,k[1])],[s,n]])}else{j=false}}o=l.radius!=null?l.radius:o;if(q){if(l.upperCap=="-"){if(l.err=="x"){c(u,[[t,r-o],[t,r+o]])}else{c(u,[[s-o,t],[s+o,t]])}}else{if(a.isFunction(l.upperCap)){if(l.err=="x"){l.upperCap(u,t,r,o)}else{l.upperCap(u,s,t,o)}}}}if(j){if(l.lowerCap=="-"){if(l.err=="x"){c(u,[[n,r-o],[n,r+o]])}else{c(u,[[s-o,n],[s+o,n]])}}else{if(a.isFunction(l.lowerCap)){if(l.err=="x"){l.lowerCap(u,n,r,o)}else{l.lowerCap(u,s,n,o)}}}}}function c(j,k){j.beginPath();j.moveTo(k[0][0],k[0][1]);for(p=1;p<k.length;p++){j.lineTo(k[p][0],k[p][1])}j.stroke()}function e(l,j){var k=l.getPlotOffset();j.save();j.translate(k.left,k.top);a.each(l.getData(),function(m,n){if(n.points.errorbars&&(n.points.xerr.show||n.points.yerr.show)){d(l,j,n)}});j.restore()}function g(j){j.hooks.processRawData.push(f);j.hooks.draw.push(e)}a.plot.plugins.push({init:g,options:i,name:"errorbars",version:"1.0"})})(jQuery);